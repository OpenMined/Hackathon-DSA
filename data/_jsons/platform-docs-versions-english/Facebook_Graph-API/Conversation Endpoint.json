{
    "0": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\nContent: \nThis document refers to an outdated version of Graph API.\u00a0Please [use the latest version.](https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)\n",
        "line_start": 0,
        "line_end": 1,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "1": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\nContent: \n# Conversation `/{conversation-id}`  \nA Messenger conversation between a person and a Facebook Page or an Instagram Professional Account.\n",
        "line_start": 2,
        "line_end": 4,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "2": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tReading\n\nContent: \n## Reading  \nHTTPPHP SDKJavaScript SDKAndroid SDKiOS SDK[Graph API Explorer](https://developers.facebook.com/tools/explorer/?method=GET&path=%7Bconversation-id%7D&version=v19.0)  \nGET /v19.0/{conversation-id} HTTP/1.1\nHost: graph.facebook.com  \n/* PHP SDK v5.0.0 */\n/* make the API call */\ntry {\n// Returns a `Facebook\\FacebookResponse` object\n$response = $fb->get(\n'/{conversation-id}',\n'{access-token}'\n);\n} catch(Facebook\\Exceptions\\FacebookResponseException $e) {\necho 'Graph returned an error: ' . $e->getMessage();\nexit;\n} catch(Facebook\\Exceptions\\FacebookSDKException $e) {\necho 'Facebook SDK returned an error: ' . $e->getMessage();\nexit;\n}\n$graphNode = $response->getGraphNode();\n/* handle the result */  \n/* make the API call */\nFB.api(\n\"/{conversation-id}\",\nfunction (response) {\nif (response && !response.error) {\n/* handle the result */\n}\n}\n);  \n/* make the API call */\nnew GraphRequest(\nAccessToken.getCurrentAccessToken(),\n\"/{conversation-id}\",\nnull,\nHttpMethod.GET,\nnew GraphRequest.Callback() {\npublic void onCompleted(GraphResponse response) {\n/* handle the result */\n}\n}\n).executeAsync();  \n/* make the API call */\nFBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]\ninitWithGraphPath:@\"/{conversation-id}\"\nparameters:params\nHTTPMethod:@\"GET\"];\n[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,\nid result,\nNSError *error) {\n// Handle the result\n}];\n",
        "line_start": 6,
        "line_end": 58,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "3": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tReading\n\tPermissions\n\nContent: \n### Permissions  \n* A Page access token requested by a person who can perform the [`MESSAGING` task](https://developers.facebook.com/docs/pages/overview-1#tasks) on the Page being queried  \n* The [`pages_messaging` permission](https://developers.facebook.com/docs/apps/review/login-permissions#reference-pages_messaging)  \n* The [`pages_manage_metadata` permission](https://developers.facebook.com/docs/apps/review/login-permissions#reference-pages_manage_metadata)  \nFor Instagram Messaging, you will also need:  \n* The [`instagram_basic` permission](https://developers.facebook.com/docs/apps/review/login-permissions#reference-instagram_basic)  \n* The [`instagram_manage_messages` permission](https://developers.facebook.com/docs/apps/review/login-permissions#reference-instagram_manage_messages)\n",
        "line_start": 65,
        "line_end": 72,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "4": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tReading\n\tLimitations\n\nContent: \n### Limitations  \n* When querying this endpoint for Instagram Messaging, all messages for the conversation will be returned. However, you will only be able to query data for the 20 most recent messages in the conversation. If a message is not within the 20 most recent, an error will be returned stating that the message has been deleted.\n",
        "line_start": 81,
        "line_end": 83,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "5": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tReading\n\tFields\n\nContent: \n### Fields  \n| Name | Description |\n| --- | --- |\n| `id`<br><br>_string_ | The ID for the conversation |\n| `messages`<br><br>_string_ | Messages within the conversation |\n| `participants`<br><br>_object_<br><br>`id`<br><br>  <br><br>`email`<br><br>_Page messaging only_<br><br>`name`<br><br>_Page messaging only_<br><br>`username`<br><br>_Instagram Messaging only_ | Participants in the conversation<br><br>  <br><br>Instagram-Scoped ID or Page-scoped ID for a person or Instagram ID for your Instagram Professional account or the Page ID.<br><br>Email for the person or Page<br><br>  <br><br>Name for the person or Page<br><br>  <br><br>Instagram username for a person or your Instagram Profession account |\n| `updated_time`<br><br>_datetime_ | The time when the last message was added to the conversation |  \nTo get information about a specific message within a conversation, send a request to the [Message endpoint](https://developers.facebook.com/docs/graph-api/reference/message).\n",
        "line_start": 86,
        "line_end": 94,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "6": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tPublishing\n\nContent: \n## Publishing  \nYou can't publish using this edge.  \nUse the [Messenger Platform](https://developers.facebook.com/docs/messenger-platform/reference/send-api/) to send [Templates](https://developers.facebook.com/docs/messenger-platform/send-messages/templates), [Quick Replies](https://developers.facebook.com/docs/messenger-platform/send-messages/quick-replies), and more.\n",
        "line_start": 97,
        "line_end": 100,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "7": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tConversation `/{conversation-id}`\n\tEdges\n\nContent: \n## Edges  \n| Name | Description | Used to Publish |\n| --- | --- | --- |\n| [`/messages`](https://developers.facebook.com/docs/graph-api/reference/conversation/messages/) | List of all messages in the conversation | Replies (by Pages only) |  \n![](https://www.facebook.com/tr?id=675141479195042&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=574561515946252&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=1754628768090156&ev=PageView&noscript=1)  \nThis document refers to an outdated version of Graph API.\u00a0Please [use the latest version.](https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation/messages)\n",
        "line_start": 111,
        "line_end": 119,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "8": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\nContent: \n# Graph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`  \nThe messages in a conversation between a person and a Facebook Page or Instagram Professional account.\n",
        "line_start": 125,
        "line_end": 127,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "9": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\tReading\n\nContent: \n## Reading  \nHTTPPHP SDKJavaScript SDKAndroid SDKiOS SDK[Graph API Explorer](https://developers.facebook.com/tools/explorer/?method=GET&path=%7Bconversation-id%7D%2Fmessages&version=v19.0)  \nGET /v19.0/{conversation-id}/messages HTTP/1.1\nHost: graph.facebook.com  \n/* PHP SDK v5.0.0 */\n/* make the API call */\ntry {\n// Returns a `Facebook\\FacebookResponse` object\n$response = $fb->get(\n'/{conversation-id}/messages',\n'{access-token}'\n);\n} catch(Facebook\\Exceptions\\FacebookResponseException $e) {\necho 'Graph returned an error: ' . $e->getMessage();\nexit;\n} catch(Facebook\\Exceptions\\FacebookSDKException $e) {\necho 'Facebook SDK returned an error: ' . $e->getMessage();\nexit;\n}\n$graphNode = $response->getGraphNode();\n/* handle the result */  \n/* make the API call */\nFB.api(\n\"/{conversation-id}/messages\",\nfunction (response) {\nif (response && !response.error) {\n/* handle the result */\n}\n}\n);  \n/* make the API call */\nnew GraphRequest(\nAccessToken.getCurrentAccessToken(),\n\"/{conversation-id}/messages\",\nnull,\nHttpMethod.GET,\nnew GraphRequest.Callback() {\npublic void onCompleted(GraphResponse response) {\n/* handle the result */\n}\n}\n).executeAsync();  \n/* make the API call */\nFBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]\ninitWithGraphPath:@\"/{conversation-id}/messages\"\nparameters:params\nHTTPMethod:@\"GET\"];\n[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,\nid result,\nNSError *error) {\n// Handle the result\n}];\n",
        "line_start": 6,
        "line_end": 58,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "10": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\tReading\n\tPermissions\n\nContent: \n### Permissions  \n* A Page access token requested by a person who can perform the `MESSAGING` task on the Page  \n* The `[pages_messaging](https://developers.facebook.com/docs/apps/review/login-permissions#reference-pages_messaging)` permission  \n* For Instagram Messaging, the `instagram_manage_messages` permission is also required\n",
        "line_start": 65,
        "line_end": 69,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "11": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\tReading\n\tFields\n\nContent: \n### Fields  \nReturns an array of [Message objects](https://developers.facebook.com/docs/graph-api/reference/message) with additional fields:  \n| Name | Description | Type |\n| --- | --- | --- |\n| Vector | Vector |\n",
        "line_start": 86,
        "line_end": 91,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "12": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\tSend a message\n\nContent: \n## Send a message  \nYou cannot send a message to this enpoint. Use [Send API](https://developers.facebook.com/docs/messenger-platform/reference/send-api/) instead.\n",
        "line_start": 205,
        "line_end": 207,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    },
    "13": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Conversation Endpoint.md\nParagraph location: \n\tGraph API Reference [`/{conversation-id}`](https://developers.facebook.com/docs/graph-api/reference/conversation/)`/messages`\n\tDelete\n\nContent: \n## Delete  \nYou cannot delete this endpoint.  \n![](https://www.facebook.com/tr?id=675141479195042&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=574561515946252&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=1754628768090156&ev=PageView&noscript=1)\n",
        "line_start": 209,
        "line_end": 214,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/conversation)"
    }
}