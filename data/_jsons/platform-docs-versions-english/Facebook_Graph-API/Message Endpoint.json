{
    "0": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\nContent: \nThis document refers to an outdated version of Graph API.\u00a0Please [use the latest version.](https://developers.facebook.com/docs/graph-api/reference/v19.0/message)\n",
        "line_start": 0,
        "line_end": 1,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "1": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\nContent: \n# Message  \nAn individual message in a Messenger or Instagram Messaging conversation.  \nTo get the message ID use the [conversation endpoint](https://developers.facebook.com/docs/graph-api/reference/conversation) or [Webhooks](https://developers.facebook.com/docs/graph-api/webhooks/) to retrieve the individual message IDs.\n",
        "line_start": 2,
        "line_end": 5,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "2": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tReading\n\nContent: \n## Reading  \nHTTPPHP SDKJavaScript SDKAndroid SDKiOS SDK[Graph API Explorer](https://developers.facebook.com/tools/explorer/?method=GET&path=%7Bmessage-id%7D&version=v19.0)  \nGET /v19.0/{message-id} HTTP/1.1\nHost: graph.facebook.com  \n/* PHP SDK v5.0.0 */\n/* make the API call */\ntry {\n// Returns a `Facebook\\FacebookResponse` object\n$response = $fb->get(\n'/{message-id}',\n'{access-token}'\n);\n} catch(Facebook\\Exceptions\\FacebookResponseException $e) {\necho 'Graph returned an error: ' . $e->getMessage();\nexit;\n} catch(Facebook\\Exceptions\\FacebookSDKException $e) {\necho 'Facebook SDK returned an error: ' . $e->getMessage();\nexit;\n}\n$graphNode = $response->getGraphNode();\n/* handle the result */  \n/* make the API call */\nFB.api(\n\"/{message-id}\",\nfunction (response) {\nif (response && !response.error) {\n/* handle the result */\n}\n}\n);  \n/* make the API call */\nnew GraphRequest(\nAccessToken.getCurrentAccessToken(),\n\"/{message-id}\",\nnull,\nHttpMethod.GET,\nnew GraphRequest.Callback() {\npublic void onCompleted(GraphResponse response) {\n/* handle the result */\n}\n}\n).executeAsync();  \n/* make the API call */\nFBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]\ninitWithGraphPath:@\"/{message-id}\"\nparameters:params\nHTTPMethod:@\"GET\"];\n[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,\nid result,\nNSError *error) {\n// Handle the result\n}];\n",
        "line_start": 8,
        "line_end": 60,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "3": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tReading\n\tRequirements\n\nContent: \n### Requirements  \n| Type | Description |\n| --- | --- |\n| [App Review](https://developers.facebook.com/docs/apps/review) | Required to access data for people who do not have a role on your app, such as a developer, tester or admin |\n| Features | Not applicable |\n| Tokens | A [Page access token](https://developers.facebook.com/docs/facebook-login/access-tokens/#pagetokens) from a person who can perform the [`MODERATE` or `MESSAGING` task](https://developers.facebook.com/docs/pages/overview-1#tasks) on the Page being queried or linked to the Instagram Professional account. |\n| Permissions | The [`pages_messaging` and `pages_manage_metadata` permissions](https://developers.facebook.com/docs/permissions/reference)<br><br>The [`instagram_basic` and `instagram_manage_messaging` permissions](https://developers.facebook.com/docs/permissions/reference) are also required for Instagram Messaging |\n",
        "line_start": 67,
        "line_end": 74,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "4": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tReading\n\tLimitations\n\nContent: \n### Limitations  \n**For Instagram Messaging**  \n* Only Instagram Professional accounts with a linked Facebook Page can access this endpoint.  \n* When querying this endpoint, all messages for this conversation will be returned. However, you will only be able to query data for the 20 most recent messages in the conversation. If a message is not within the 20 most recent, an error will be returned stating that the message has been deleted.\n",
        "line_start": 76,
        "line_end": 80,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "5": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tReading\n\tFields\n\nContent: \n### Fields  \nIf a field has no data, it will not be returned in the JSON response.  \nNameDescription  \n`attachments.data`  \n_array_  \n`file_url`  \n`generic_template`  \n`id`  \n`image_data`  \n`name`  \n`video_data`  \nMedia, such as an image, video, or file CDN URL, attached to the message.  \nThe URL for the file attached to the message  \nThe URL for the image attached to the message. Can include the following key:value pairs:  \n|     |     |\n| --- | --- |\n| * `cta`: object with `title`, `type`, `url`<br>* `medial_url`: string, URL for the image | * `subtitle`: string, in pixels<br>* `title`: string, |  \nThe ID for the attachment  \nThe URL for the image attached to the message. Can include the following key:value pairs:  \n|     |     |\n| --- | --- |\n| * `animated_gif_preview_url`: string, URL for preview for the GIF<br>* `animated_gif_url`: string, URL for the GIF<br>* `height`: int, in pixels<br>* `max_height`: int, in pixels<br>* `max_width`: int, in pixels | * `preview_url`: string, Preview for the URL<br>* `render_as_sticker`: bool, true or false<br>* `url`: string, URL for the image<br>* `width`: int, in pixels |  \nThe name for the attachement  \nThe URL for the video attached to the message  \n`created_time`  \n_datetime_  \nThe time the message was created  \n`from`  \n_object_  \n`id`  \n`email`  \n`name`  \n`username`  \nInformation about who sent the message. Can be a person, Page, or Instagram Professional account  \nThe ID can be an Instagram-scoped ID or Page-scoped ID for a person or Page ID or Instagram Professional account ID for your business.  \nThe email for a person or Facebook Page. _Page messaging only_  \nThe name for a person or Facebook Page. _Page messaging only_  \nThe username for a person on Instagram or your Instagram Professional account. _Instagram Messaging only_  \n\"from\": {\n\"username\": \"INSTAGRAM-USERNAME\",\n\"id\": \"ID\"\n}  \n`id`  \n_string_  \nThe ID for a message  \n`is_unsupported`  \n_boolean_  \nOnly returned when `true`; a message contains unsupported content.  \n`message`  \n_string_  \nText content for the message. If no text is part of the message, this will be empty.  \n`reactions`  \n_array_  \n`data` _array_  \n`reaction` _emoji_  \n`users` _array of objects_  \n`id`  \n`username`  \nThe types of reactions the message has received with a list of all the people who reacted with that reaction type.  \nAn array of reaction objects  \nThe reaction emoji type  \nA list of people who have reacted to the message  \nThe ID can be an Instagram-scoped ID for a person on Instagram or Instagram Professional account ID for your business.  \nThe username for a person on Instagram or your Instagram Professional account. _Instagram Messaging only_  \n\"reactions\":\n{\n\"reaction\": \"\u2764\ufe0f\",\n\"users\" : \\[\n{\n\"username\": \"INSTAGRAM-USERNAME\",\n\"id\": \"ID\",\n},\n\\]\n}  \n`shares`  \n_array_  \nMedia shares, such as a post or product template, included in the message. Please note, for the shares object you need to request the sub-fields also in order to retrieve the data.  \n\"shares\": {\n\"data\": \\[{\n\"template\": {\n\"payload\":{\n\"product\": {\n\"elements\":{     //Can contain multiple products if applicable\n\"data\": \\[\n{\n\"id\" : \"PRODUCT-ID\",    // 0 if business can't see this product\n\"retailer\\_id\": \"ID-ASSIGNED-BY-THE-RETAILER\",\n\"image\\_url\" : \"IMAGE-URL\",\n\"name\" : \"PRODUCT-NAME\",\n\"price\" : \"$10\"\n},\n\\],\n}\n}\n}\n}\n}\\]\n}  \n`story`  \n_array_  \nThe link and ID for a story. Only mentions and replyies are supported.  \nStoryReply:\n{\n\"link\": \"CDN-URL\",\n\"id\": \"STORY-ID\"\n}  \nStoryMention:\n{\n\"link\": \"CDN-URL\",\n\"id\": \"STORY-ID\"\n}  \n`tags`  \n_object_  \nA `data` array containing names for tags indicating the message folder and source of the message.  \n* For Facebook Pages, `name` can be `inbox`, `read`, `source:chat`,  \n`to`  \n_object_  \n`data` _array_  \n`id`  \n`email`  \n`name`  \n`username`  \nInformation about who received the message  \nThe ID can be an Instagram-scoped ID or Page-scoped ID for a person or Page ID or Instagram Professional account ID for your business.  \nThe email for a person or Facebook Page. _Page messaging only_  \nThe name for a person or Facebook Page. _Page messaging only_  \nThe username for a person on Instagram or your Instagram Professional account. _Instagram Messaging only_  \n\"to\": {\n\"data\": \\[\n{\n\"username\": \"INSTAGRAM-USERNAME\",\n\"id\": \"ID\"\n}\n\\]\n}\n",
        "line_start": 85,
        "line_end": 220,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "6": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tEdges\n\nContent: \n## Edges  \n| Name | Description |\n| --- | --- |\n| [`/attachments`](https://developers.facebook.com/docs/graph-api/reference/message/attachments) | Files attached to a message. |\n| [`/shares`](https://developers.facebook.com/docs/graph-api/reference/message/shares/) | Shared items, including links, photos, videos, stickers and products. |\n",
        "line_start": 313,
        "line_end": 318,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "7": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tCreate\n\nContent: \n## Create  \nYou can't perform this operation on this endpoint.\n",
        "line_start": 320,
        "line_end": 322,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "8": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tUpdate\n\nContent: \n## Update  \nYou can't perform this operation on this endpoint.\n",
        "line_start": 324,
        "line_end": 326,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    },
    "9": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Graph-API/Message Endpoint.md\nParagraph location: \n\tMessage\n\tDelete\n\nContent: \n## Delete  \nYou can't perform this operation on this endpoint.  \n![](https://www.facebook.com/tr?id=675141479195042&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=574561515946252&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=1754628768090156&ev=PageView&noscript=1)\n",
        "line_start": 328,
        "line_end": 333,
        "url": "https://developers.facebook.com/docs/graph-api/reference/v19.0/message)"
    }
}