{
    "0": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\nContent: \n# Overview  \nThe Ad Targeting Dataset contains the ad targeting logic of all of the Social Issue, Electoral, and Political (SIEP) ads run beginning August 3, 2020 on the Facebook and Instagram platforms.  \nThis document provides an overview of the dataset and its usage requirements.  \n**Get access**  \nTo query the dataset, you must be an approved Meta Research Partner. See [Onboarding](https://developers.facebook.com/docs/fort/get-access) to get access.\n",
        "line_start": 0,
        "line_end": 5
    },
    "1": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tDataset\n\nContent: \n## Dataset  \nThe dataset comprises a single table containing targeting data of social issue, electoral, and political ads. All data used to build the dataset has been processed to remove any personally identifiable user information.  \nOnly ads concerning social issues, elections, and politics that were run on or after August 3, 2020 are included in the data. Ads included are from all countries in which we currently have our ad authorizations and disclaimer tools available. More information about the included countries is available [here.](https://www.facebook.com/business/help/2150157295276323?id=288762101909005)  \nPublication of this data began in May of 2022.  \nOn the 1st of each month, an update to the table is published so that it includes all data through the 21st of the previous month. Beginning with the second month of published data (June 2022), there is also a delta table that describes ads that were reclassified as non-political since the previous update. The first three months of data (August 3 - November 1, 2020) were originally published as the Ad Targeting February 2021 Dataset (with U.S. data only).  \n**Ads are retained for seven years**  \nWe store all social issue, electoral and political ads in our Ad Library for seven years. In line with this, data in the Ad Targeting dataset is not accessible after seven years.\n",
        "line_start": 10,
        "line_end": 17
    },
    "2": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tIssues with inclusions and exclusions of custom and lookalike audiences\n\nContent: \n## Issues with inclusions and exclusions of custom and lookalike audiences  \nFor the dataset of targeting data on social issue, electoral and political ads for the 90-day period leading up to the US 2020 election, released in February 2021, there were some issues with inclusions and exclusions of custom and lookalike audiences.  \nAlso, for ads created before November 1, 2021, data may be missing from some ads where advertisers initially used a custom or lookalike audience, but later deleted that audience.  \nWe are addressing the issues we\u2019ve discovered by providing updated documentation on how to proceed.  \nSee [Updates and differences in the datasets](https://developers.facebook.com/docs/fort-ads-targeting-dataset/january-2021-dataset) for a comparison of the original and new datasets and more information about these issues.\n",
        "line_start": 24,
        "line_end": 29
    },
    "3": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tImportant dates\n\nContent: \n## Important dates  \nIt might be helpful to know these important dates as you work with the dataset:  \n| Significance | Date |\n| --- | --- |\n| Beginning date of both the original February 2021 dataset and the new May 2022 dataset. | August 3, 2020 |\n| Last date included in the original February 2021 dataset. | November 1, 2020 |\n| Dates included in both the original and new datasets. | August 3 - November 1, 2020 |\n| First publication of the new dataset. | May 31, 2022<br><br>  <br><br>Includes data from August 3, 2020 - April 21, 2022 |\n| First monthly update to the new dataset. | June 1, 2022<br><br>  <br><br>Updates the dataset to include data from August 3, 2020 - May 21, 2022 |\n| First publication of the [delta table](https://developers.facebook.com/docs/fort-ads-targeting-dataset/table-schema#delta-schema). | June 1, 2022 |\n| Date we began to preserve custom audience information for audiences that were initially used and later removed by advertisers. | November 1, 2021<br><br>  <br><br>See [Updates and Differences in the Datasets](https://developers.facebook.com/docs/fort-ads-targeting-dataset/january-2021-dataset) for more information. |\n| Date the `fbid` column name in the `ad_archive_api` table changed from `ad_archive_id` to `fbid`. | April 21, 2021<br><br>  <br><br>See [Joining Ads Targeting Dataset Data with Ad Library Data](https://developers.facebook.com/docs/fort-ads-targeting-dataset/table-schema#joining-ad-library) in the Table Schema section for more information. |\n| Date changes were made to the table schema to more clearly and accurately represent included and excluded targeting criteria. | September 1, 2022<br><br>  <br><br>See [Changelog](https://developers.facebook.com/docs/fort-ads-targeting-dataset/support/changelog) for details. |\n| Date as of which researchers could apply for access to the Ad Targeting Dataset by submitting a data access request and completing the required, self-serve onboarding process. | September 7, 2022<br><br>  <br><br>See [Meta for Developers Onboarding](https://developers.facebook.com/docs/fort/get-access) for more information. |\n",
        "line_start": 34,
        "line_end": 48
    },
    "4": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tResearcher Platform\n\nContent: \n## Researcher Platform  \nYou must use our Researcher Platform web app to access the dataset. The app runs on JupyterHub, which allows you to import our Python3 SQL query module into a Jupyter Notebook and run SQL queries against the dataset. You can access Researcher Platform [user documentation here](https://developers.facebook.com/docs/researcher-platform/).  \nThe Researcher Platform URL is emailed to you once you have [completed the onboarding process](https://developers.facebook.com/docs/fort/get-access).\n",
        "line_start": 51,
        "line_end": 54
    },
    "5": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tVPN\n\nContent: \n## VPN  \nYou must access the Researcher Platform through our virtual private network (VPN) using OpenVPN. Follow our [OpenVPN Setup](https://developers.facebook.com/docs/fort/get-access/vpn) document to learn how to install and configure the OpenVPN client correctly.\n",
        "line_start": 57,
        "line_end": 59
    },
    "6": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tHow it works\n\nContent: \n## How it works  \nOnce you have [completed onboarding](https://developers.facebook.com/docs/fort/get-access), this is the general flow for querying the dataset:  \n1. Connect to our VPN.\n2. Visit the Researcher Platform URL that was emailed to you and sign in with your Facebook account.\n3. Create a Python3 Jupyter notebook.\n4. Import our query module.\n5. Use the module to create and execute SQL queries.\n6. Examine the results returned to your Jupyter notebook.\n",
        "line_start": 61,
        "line_end": 69
    },
    "7": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tNext steps\n\nContent: \n## Next steps  \nRead our [Get started](https://developers.facebook.com/docs/fort-ads-targeting-dataset/get-started) guide to learn how to use the Researcher Platform and perform a basic SQL query.\n",
        "line_start": 72,
        "line_end": 74
    },
    "8": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tOverview\n\tLearn more\n\nContent: \n## Learn more  \nFor the dataset's codebook, see [Ad Targeting Dataset Codebook.](https://scontent-cdg4-1.xx.fbcdn.net/v/t39.8562-6/327966766_556592703070288_3426165002794598818_n.pdf?_nc_cat=102&ccb=1-7&_nc_sid=b8d81d&_nc_ohc=ooEqA2kH2gkAX9W_NgR&_nc_oc=AQlALs9OEgnGSiZ-HaODbEdbImq8cimime9l_M-NbrbTpUYNxRKfKGuTfU657LRLcVc&_nc_ht=scontent-cdg4-1.xx&oh=00_AfCDg9z4trzJkJBFw5kqbN5K9AqZtjDDoKZ07AfUCk414g&oe=65B5A8A4)  \nAdditional resources:  \n* [Updates and differences in the datasets](https://developers.facebook.com/docs/fort-ads-targeting-dataset/january-2021-dataset)\n* [Onboarding for access to the Ad Targeting dataset](https://developers.facebook.com/docs/fort/get-access)\n* [OpenVPN setup](https://developers.facebook.com/docs/fort/get-access/vpn)  \n![](https://www.facebook.com/tr?id=675141479195042&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=574561515946252&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=1754628768090156&ev=PageView&noscript=1)\n",
        "line_start": 76,
        "line_end": 85
    },
    "9": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tUpdates and differences in the datasets\n\nContent: \n# Updates and differences in the datasets  \nThe Ad Targeting February 2021 dataset consists of targeting data on social issue, electoral, and political ads from August 3 - November 1, 2020 (U.S. data only).  \nThe Ad Targeting May 2022 dataset consists of targeting data on social issue, electoral, and political ads beginning August 3, 2020 through the present. The May 2022 dataset includes ads from all countries in which we currently have our ad authorizations and disclaimer tools available.  \nBoth datasets include data from August 3 - November 1, 2020.\n",
        "line_start": 92,
        "line_end": 96
    },
    "10": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tUpdates and differences in the datasets\n\tUnderstanding the differences between the two datasets\n\nContent: \n## Understanding the differences between the two datasets  \nSince you might be using one or both datasets in your research, and since you might want to transfer your research from the old dataset to the new one, it is important to understand the differences:  \n| Feature | February 2021 dataset | May 2022 dataset |\n| --- | --- | --- |\n| Table name | `ad_targeting_dataset` | `ad_targeting_dataset_siep_aug_2020`<br><br>  <br><br>There are three additional columns in this table: `exclude_audience_data_missing`, `include_audience_data_missing`, and `language`.<br><br>  <br><br>See [Table schema](https://developers.facebook.com/docs/fort-ads-targeting-dataset/table-schema) for details. |\n| Coverage area | USA data only. | All countries in which we currently have our ad authorizations and disclaimer tools available.<br><br>  <br><br>More information about the countries this includes is available [here.](https://www.facebook.com/business/help/2150157295276323?id=288762101909005) |\n| Minimum number of impressions for the ad to be included | 100 | 1   |\n| Ongoing data collected and published | No  | Yes<br><br>  <br><br>On the 1st of each month beginning June 2022, an update to the table is published so that it includes all data through the 21st of the previous month. A delta table is also published, listing ads that were reclassified as non-political (and therefore removed) since the previous publication. |\n| Indicates where custom audience data is known to be missing.<br><br>  <br><br>See [How to manage issues found in the datasets](#manage-issues) for more information. | No  | Yes<br><br>  <br><br>`include_audience_data_missing` and `exclude_audience_data_missing` columns are new in this dataset. |\n| Preserves custom audience information for audiences that were removed.<br><br>  <br><br>See [How to manage issues found in the datasets](#manage-issues) for more information. | No  | Yes, after November 1, 2021. |\n",
        "line_start": 100,
        "line_end": 110
    },
    "11": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tUpdates and differences in the datasets\n\tHow to manage issues found in the datasets\n\nContent: \n## How to manage issues found in the datasets  \nThere are two issues having to do with the inclusion or exclusion of custom and lookalike audiences that we found in the datasets.  \n**These issues only affected data related to custom and lookalike audiences.**  \nYour research was not impacted if it did not involve custom or lookalike audiences.  \nHere's what we have done to address these issues:  \n* We are providing this updated documentation explaining the issues and describing ways to interpret the data in light of them.  \n* We have corrected the issues in the May 2022 targeting dataset.  \n* We have included two new columns in the May 2022 targeting dataset called `include_audience_data_missing` and `exclude_audience_data_missing`. These columns are marked True where we know we are missing data. A value of True (data is missing) indicates that a custom or lookalike audience was used, but we\u2019re unable to identify or report the specifics of that audience.  \nHere are the two issues and strategies for interpreting any data affected by them:  \n* Issue #1: [incorrect calculations](#incorrect-calculations)  \n* Issue #2: [deleted custom audiences](#deleted-CA)\n",
        "line_start": 113,
        "line_end": 124
    },
    "12": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tUpdates and differences in the datasets\n\tHow to manage issues found in the datasets\n\t**Issue #1 incorrect calculations**\n\nContent: \n### **Issue #1 incorrect calculations**  \nDue to an error in the source code for the February 2021 dataset, when calculating the `include_custom_audience` and `exclude_custom_audience` data fields, we calculated the inclusion and exclusion of custom audiences where custom audiences may not actually have been used. For less than 12% of ads within the targeting dataset, this resulted in custom audience inclusion or exclusion incorrectly reading as True.  \nThis has been corrected in the new dataset released in 2022, so if you are only using the new dataset, this problem will not affect your research.  \nIf you are using the 2021 dataset, comparing ads from the 2021 and 2022 datasets can help you to interpret the data. Here's how:  \n1. For the three months of overlap, compare the two datasets, looking specifically at these custom audience columns:  \n* `include_custom_audience`\n* `exclude_custom_audience`\n2. If there is a difference between the two datasets in the `include_custom_audience` column, and `include_audience_data_missing` (in the new dataset) is True, the discrepancy could be the result of either incorrect calculation (Issue #1) or custom audience deletion (Issue #2), and there is no way to know which. If `include_audience_data_missing` is False (no missing data), the discrepancy is the result of incorrect calculation (Issue #1).  \n3. If there is a difference between the two datasets in the `exclude_custom_audience` column, and `exclude_audience_data_missing` (in the new dataset) is True, the discrepancy could be the result of either incorrect calculation (Issue #1) or custom audience deletion (Issue #2), and there is no way to know which. If `exclude_audience_data_missing` is False (no missing data), the discrepancy is the result of incorrect calculation (Issue #1).  \nThis example shows how you can use `join` to compare the old and new datasets:  \nold\\_targeting\\_dataset = execute(\"SELECT \\* FROM fbri\\_prod\\_atp.ad\\_library\\_targeting\")\nnew\\_targeting\\_dataset = execute(\"SELECT \\* FROM fbri\\_prod\\_atp.ad\\_targeting\\_dataset\\_siep\\_aug\\_2020\")\ndata = old\\_targeting\\_dataset.join(new\\_targeting\\_dataset.set\\_index('archive\\_id'), 'archive\\_id', rsuffix='\\_new')  \ndata\\[(data\\['include\\_custom\\_audience'\\] != data\\['include\\_custom\\_audience\\_new'\\])\\] # Checking the new data against the old data  \ndata\\[(data\\['include\\_custom\\_audience'\\] != data\\['include\\_custom\\_audience\\_new'\\]) and (data\\['include\\_audience\\_data\\_missing'\\] == False)\\] # Checking the new data against the old data where there are no instances of missing data\n",
        "line_start": 137,
        "line_end": 152
    },
    "13": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tUpdates and differences in the datasets\n\tHow to manage issues found in the datasets\n\tIssue #2 deleted custom audiences\n\nContent: \n### Issue #2 deleted custom audiences  \nFor ads created before November 1, 2021, data might be missing from some ads where advertisers initially used a custom or lookalike audience, but later deleted that audience. Because the data is missing, data fields for custom or lookalike audience use may read as False when they should have shown as True.  \nThis impacted less than 15% of ads within the targeting dataset released in February 2021 and impacted less than 6% of all social issue, electoral or political ads created before November 1, 2021.  \nIn the new dataset (May 2022), if an advertiser deleted a custom or lookalike audience associated with an ad before November 1, 2021, it is indicated by a value of True in the new `include_audience_data_missing` or `exclude_audience_data_missing` columns. If you are only looking at data in the new dataset, you can choose how to treat the data in your analysis based on those columns.  \nYou can also use those new columns to help you interpret affected data in the February 2021 dataset. Here's how:  \n1. As in Issue #1, compare the two datasets, but this time, looking specifically at these columns:  \n* `include_custom_audience`\n* `exclude_custom_audience`\n* `include_data_file_custom_audience`\n* `exclude_data_file_custom_audience`\n* `include_lookalike`\n* `exclude_lookalike`\n2. If a field is True in the new dataset, then even if data is marked as missing, it doesn\u2019t affect these columns (or there were other, non-deleted audiences that allowed us to calculate this information).  \n3. If there is a difference between the two datasets, and `include_audience_data_missing` or `exclude_audience_data_missing` is True for the respective columns, the difference could be due to an audience getting deleted in the original dataset.  \n* For the `include_data_file_custom_audience`, `exclude_data_file_custom_audience`, `include_lookalike`, and `exclude_lookalike` columns, audience deletion is definitely the reason for the discrepancy.\n* For the `include_custom_audience` and `exclude_custom_audience` columns, the discrepancy might also be due to incorrect calculation (Issue #1).\n4. If all custom audience columns are the same between datasets but either of the data missing columns have a True value, there was missing data in the original dataset.  \n5. You can filter your data on `include_audience_data_missing` and `exclude_audience_data_missing`.  \n6. In the `include_data_file_custom_audience`, `exclude_data_file_custom_audience`, `include_lookalike`, and `exclude_lookalike` columns, you can safely copy True values from the old dataset to the new dataset when there is data missing in the new dataset\u2014those audiences were deleted between the release of the February 2021 dataset and the release of the May 2022 dataset. This is something you might do if you are transferring your research from the old dataset to the new, for example.  \nThis example shows how you can use `join` to compare the old and new datasets:  \nold\\_targeting\\_dataset = execute(\"SELECT \\* FROM fbri\\_prod\\_atp.ad\\_library\\_targeting\")\n",
        "line_start": 166,
        "line_end": 187
    },
    "14": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tuse the subset of old ads on which you were doing research\n\nContent: \n# use the subset of old ads on which you were doing research\nnew\\_targeting\\_dataset = execute(\"SELECT \\* FROM fbri\\_prod\\_atp.ad\\_targeting\\_dataset\\_siep\\_aug\\_2020\")\ndata = old\\_targeting\\_dataset.join(new\\_targeting\\_dataset.set\\_index('archive\\_id'), 'archive\\_id', rsuffix='\\_new')\ndata\\[(data\\['include\\_audience\\_data\\_missing'\\] == True) | (data\\['exclude\\_audience\\_data\\_missing'\\] == True)\\] # Get rows where there is missing data\ndata\\[((data\\['include\\_custom\\_audience'\\] != data\\['include\\_custom\\_audience\\_new'\\]) | (data\\['include\\_data\\_file\\_custom\\_audience\\_new'\\] != data\\['include\\_data\\_file\\_custom\\_audience'\\]) | (data\\['include\\_lookalike'\\] != data\\['include\\_lookalike\\_new'\\])) & (data\\['include\\_audience\\_data\\_missing'\\] == True)\\] # Find places where differences in include columns could be due to missing data\n",
        "line_start": 200,
        "line_end": 205
    },
    "15": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tuse the subset of old ads on which you were doing research\n\tTransferring your research to the new dataset\n\nContent: \n## Transferring your research to the new dataset  \nHere we present two examples of transferring your research from the original dataset to the new dataset.  \nTo transfer to the new dataset for the exact set of ads visible in the February 2021 dataset:  \ndata = execute(\"SELECT \\* FROM fbri\\_prod\\_atp.ad\\_targeting\\_dataset\\_siep\\_aug\\_2020 WHERE archive\\_id IN (SELECT archive\\_id FROM fbri\\_prod\\_atp.ad\\_library\\_targeting)\")  \nTo do analysis on all ads in the new dataset from approximately the same timeframe as the original February 2021 dataset (to capture the ads with less than 100 impressions):  \ndata = execute(\"SELECT b.\\* FROM fbri\\_prod\\_atp.ad\\_archive\\_api AS a, fbri\\_prod\\_atp.ad\\_targeting\\_dataset\\_siep\\_aug\\_2020 AS b WHERE a.ds = b.ds AND a.fbid = b.archive\\_id AND (ad\\_delivery\\_start\\_time BETWEEN 1596427200 AND 1604476800 OR ad\\_delivery\\_stop\\_time BETWEEN 1596427200 AND 1604476800) AND reached\\_countries LIKE '%US%'\")\n",
        "line_start": 206,
        "line_end": 212
    },
    "16": {
        "content": "Source document: data/platform-docs-versions-english/Facebook_Ad-Targeting-Dataset/Overview.md\nParagraph location: \n\tuse the subset of old ads on which you were doing research\n\tTransferring your research to the new dataset\n\tLearn more\n\nContent: \n### Learn more  \n* [Table schema](https://developers.facebook.com/docs/fort-ads-targeting-dataset/table-schema)  \n![](https://www.facebook.com/tr?id=675141479195042&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=574561515946252&ev=PageView&noscript=1)  \n![](https://www.facebook.com/tr?id=1754628768090156&ev=PageView&noscript=1)\n",
        "line_start": 218,
        "line_end": 223
    }
}